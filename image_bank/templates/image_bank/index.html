{% extends "image_bank/main.html" %}
{% load static %}

{% block content %}
    <header>
        <nav class="navbar navbar-expand-lg  blur blur-rounded top-0  z-index-3 shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
            <div class="container-fluid px-0">
            <a class="navbar-brand font-weight-bolder ms-sm-3" href=" https://demos.creative-tim.com/soft-ui-design-system-pro/presentation.html " rel="tooltip" title="Designed and Coded by Creative Tim" data-placement="bottom" target="_blank">
                SEN NATAAL
            </a>
            <a href="https://www.creative-tim.com/product/soft-ui-design-system-pro#pricingCard" class="btn btn-sm  bg-gradient-dark  btn-round mb-0 ms-auto d-lg-none d-block">Buy Now</a>
            <button class="navbar-toggler shadow-none ms-md-2" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon mt-2">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
                </span>
            </button>
            <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0" id="navigation">
                <ul class="navbar-nav navbar-nav-hover mx-auto">
                <li class="nav-item dropdown dropdown-hover mx-2">
                    <a hx-get="{% url 'accueil-images' %}" hx-target="#content" hx-trigger="click" hx-push-url="true" hx-swap="outerHTML" role="button" class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center" id="dropdownMenuPages" data-bs-toggle="dropdown" aria-expanded="false">
                    Accueil
                    </a>
                </li>
                <li class="nav-item dropdown dropdown-hover mx-2">
                    <a hx-get="{% url 'upload-contributeur' %}" hx-target="#content" hx-trigger="click" hx-push-url="true" hx-swap="outerHTML" role="button" class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center" id="dropdownMenuAccount" data-bs-toggle="dropdown" aria-expanded="false">
                    Charger images
                    </a>
                </li>
                <li class="nav-item dropdown dropdown-hover mx-2">
                    <a hx-get="{% url 'images-contributeur' %}" hx-target="#content" hx-trigger="click" hx-push-url="true" hx-swap="outerHTML" role="button" class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false">
                    Mes images
                    </a>
                </li>
                </ul>
                <ul class="navbar-nav d-lg-block d-none">
                <li class="nav-item px-3 d-flex align-items-center">
                    <a id="plugin-control" href="javascript:;" class="nav-link text-white p-0">
                        <span class="bi text-dark" fs-3><i class="fa fa-user fa-2x fixed-plugin-button-nav cursor-pointer"></i></span>
                    </a>
                </li>
                </ul>
            </div>
            </div>
        </nav>
    </header>
    <main>
        {% block dynamic_content %}
            <div id="content">
            
            </div>
        {% endblock %}
    </main>
    <div id="plugin-to-control" class="fixed-plugin">
      <a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
        <i class="fa fa-cog py-2"> </i>
      </a>
      <div class="card shadow-lg ">
        <div class="card-header pb-0 pt-3 ">
          <div class="float-start">
            <h4 class="mt-3 mb-0">Mon compte</h4>
          </div>
          <div class="float-end mt-4">
            <button class="btn btn-link text-dark p-0 fixed-plugin-close-button">
              <i class="fa fa-close"></i>
            </button>
          </div>
          <!-- End Toggle Button -->
        </div>
        <hr class="horizontal dark my-1">
        <div class="card-body pt-sm-3 pt-0">
            <p><a href="#">Mon compte</a></p>
            <p><a href="{% url 'sign-out' %}">DÃ©connexion</a></p>
        </div>
      </div>
    </div>
{% endblock %}

{% block extra_js %}
<script type="text/javascript">
  function togglePlugin() {
      console.log("toggling plugin");
      const plugin = document.querySelector('#plugin-control');
      const pluginToControl = document.querySelector('#plugin-to-control');
        plugin.addEventListener('click', () => {
        pluginToControl.classList.toggle('show');
      });

      const pluginControlTwo = document.querySelector('.fixed-plugin-close-button');
        pluginControlTwo.addEventListener('click', () => {
        pluginToControl.classList.toggle('show');
      })
    }

    togglePlugin();
</script>
{% endblock %}
